<div class="container">
  <h1 class="title">ğŸ“š GestiÃ³n de Alumnos</h1>
  <p class="subtitle">Sistema CRUD con Base de Datos MySQL</p>

  <!-- Formulario para crear/editar -->
  <div class="form-card">
    <h2>{{ modoEdicion ? 'âœï¸ Editar Alumno' : 'â• Nuevo Alumno' }}</h2>
    
    <form (ngSubmit)="modoEdicion ? actualizarAlumno() : crearAlumno()">
      <div class="form-group">
        <label>Nombre:</label>
        <input 
          type="text" 
          [(ngModel)]="nuevoAlumno.nombre" 
          name="nombre"
          placeholder="Ingresa el nombre"
          required>
      </div>

      <div class="form-group">
        <label>Apellido:</label>
        <input 
          type="text" 
          [(ngModel)]="nuevoAlumno.apellido" 
          name="apellido"
          placeholder="Ingresa el apellido"
          required>
      </div>

      <div class="form-group">
        <label>Edad:</label>
        <input 
          type="number" 
          [(ngModel)]="nuevoAlumno.edad" 
          name="edad"
          placeholder="Ingresa la edad"
          min="0"
          required>
      </div>

      <div class="button-group">
        <button type="submit" class="btn btn-primary">
          {{ modoEdicion ? 'ğŸ’¾ Actualizar' : 'â• Crear' }}
        </button>
        @if (modoEdicion) {
          <button type="button" class="btn btn-secondary" (click)="cancelarEdicion()">
            âŒ Cancelar
          </button>
        }
      </div>
    </form>
  </div>

  <!-- Lista de alumnos -->
  <div class="alumnos-section">
    <h2>ğŸ‘¥ Lista de Alumnos ({{ alumnos.length }})</h2>

    @if (alumnos.length === 0) {
      <div class="empty-state">
        <p>ğŸ“­ No hay alumnos registrados</p>
        <p class="hint">Agrega el primer alumno usando el formulario de arriba</p>
      </div>
    } @else {
      <div class="table-container">
        <table class="alumnos-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>Apellido</th>
              <th>Edad</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            @for (alumno of alumnos; track alumno.id) {
              <tr>
                <td>{{ alumno.id }}</td>
                <td>{{ alumno.nombre }}</td>
                <td>{{ alumno.apellido }}</td>
                <td>{{ alumno.edad }} aÃ±os</td>
                <td class="actions">
                  <button 
                    class="btn-action btn-edit" 
                    (click)="editarAlumno(alumno)"
                    title="Editar">
                    âœï¸
                  </button>
                  <button 
                    class="btn-action btn-delete" 
                    (click)="eliminarAlumno(alumno.id)"
                    title="Eliminar">
                    ğŸ—‘ï¸
                  </button>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    }
  </div>
</div>
